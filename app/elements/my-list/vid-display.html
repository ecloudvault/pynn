<!--
@license
Copyright (c) 2015 eCloudVault Authors. All rights reserved.
-->

<dom-module id="vid-display">
  <style>
    :host {
      display: block;
    }
  </style>
  <template>
    <div>
    <input class="paper-font-body2" value="{{vsource}}">
    <button class="paper-font-body2" on-click="setSource">play</button>
    </div>
    <div>{{vsource}}</div>
    <video id="vdisplay" width="320" height="240" controls>
      <source id="vsrc" type="video/webm">
    </video>
    <div>current src: <span id="current"></span></div>
  </template>

  <script>
    (function () {
      Polymer({
        is: 'vid-display',
        properties: {
          vsource: {
            type: String,
            notify: true
          }
        },

        ready: function() {
          this.$.current.textContent = this.$.vsrc.src;
        },

        setSource: function() {
          this.$.vsrc.src = 'https://s3-us-west-2.amazonaws.com/videopail/' + this.vsource;
          this.$.current.textContent = this.$.vsrc.src;
          this.$.vdisplay.load();
        }
      });
    })();
  </script>

</dom-module>
